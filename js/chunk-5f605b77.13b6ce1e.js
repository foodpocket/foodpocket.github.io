(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f605b77"],{"0233":function(t,e,o){},"057f":function(t,e,o){var a=o("fc6a"),n=o("241c").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return n(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==s.call(t)?r(t):n(a(t))}},"1e87":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"choosepocket"},[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),o("navbar",[o("h1",[t._v("選擇口袋名單")])]),o("bus"),o("div",{staticClass:"container"},[o("ul",{staticClass:"list-group list-group-flush text-left"},t._l(t.pocketlist,(function(e,a){return o("li",{key:a,staticClass:"main-list list-group-item"},[o("div",{staticClass:"pockets d-flex align-items-center"},[o("div",{staticClass:"item",on:{click:function(o){return t.seletedPocket(e)}}},[t.seletedID===e.pocket_uid?o("div",{staticStyle:{color:"rgb(211, 0, 0)"}},[o("div",{staticClass:"pocket-name"},[t._v(" "+t._s(e.name)+" "),t._m(0,!0)]),o("div",{staticClass:"pocket-size"},[t._v("共有"+t._s(e.size)+"間餐廳")])]):t._e(),t.seletedID!==e.pocket_uid?o("div",[o("div",{staticClass:"pocket-name"},[t._v(t._s(e.name))]),o("div",{staticClass:"pocket-size"},[t._v("共有"+t._s(e.size)+"間餐廳")])]):t._e()]),o("div",{staticClass:"icon-button edit-btn"},[o("a",{staticClass:"pen-icon",on:{click:function(o){return o.preventDefault(),t.openEditPocketModal(e)}}},[o("i",{staticClass:"fas fa-pen"})])])])])})),0),o("div",{staticClass:"icon-button addpocket-btn"},[o("a",{staticClass:"plus-icon",on:{click:function(e){return e.preventDefault(),t.openAddPocketModal(e)}}},[o("i",{staticClass:"fas fa-plus"})])])]),o("div",{staticClass:"modal fade",attrs:{id:"addPocket",tabindex:"-1",role:"dialog","aria-labelledby":"addPocketLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content border-0"},[t._m(1),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("新增口袋名稱")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newPocketName,expression:"newPocketName"}],staticClass:"form-control mb-2",attrs:{type:"text",id:"name",placeholder:"請輸入餐廳名稱"},domProps:{value:t.newPocketName},on:{input:function(e){e.target.composing||(t.newPocketName=e.target.value)}}})])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),o("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:t.addNewPocket}},[t._v("確認")])])])])]),o("div",{staticClass:"modal fade",attrs:{id:"editPocket",tabindex:"-1",role:"dialog","aria-labelledby":"editPocketLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content border-0"},[t._m(2),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"editname"}},[t._v("編輯口袋名稱")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editModalObj.name,expression:"editModalObj.name"}],staticClass:"form-control mb-2",attrs:{type:"text",id:"editname",placeholder:"請輸入餐廳名稱"},domProps:{value:t.editModalObj.name},on:{input:function(e){e.target.composing||t.$set(t.editModalObj,"name",e.target.value)}}})])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(e){return t.openRemovePocketModal(t.copyModalObj)}}},[o("i",{staticClass:"fas fa-trash-alt",staticStyle:{"font-size":"1.1rem"}})]),o("button",{staticClass:"btn btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),o("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(e){return t.editPocket(t.copyModalObj)}}},[t._v("確認")])])])])]),o("div",{staticClass:"modal fade",attrs:{id:"removePocket",tabindex:"-1",role:"dialog","aria-labelledby":"removePocketLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content border-0"},[o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"removePocketModalLabel"}},[o("span",[t._v("刪除"+t._s(t.copyModalObj.name)+"口袋")])]),o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.doNotDelete}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"modal-body"},[o("div",[o("i",{staticClass:"fas fa-exclamation-triangle text-warning",staticStyle:{"font-size":"1.5rem"}}),t._v("警告"),o("i",{staticClass:"fas fa-exclamation-triangle text-warning",staticStyle:{"font-size":"1.5rem"}}),o("br"),t._v("刪除 "),o("strong",{staticClass:"text-danger"},[t._v(t._s(t.copyModalObj.name)+" ")]),t._v(" 口袋後 "),o("br"),t._v("此口袋內的餐廳及到訪記錄 "),o("strong",{staticClass:"text-danger"},[t._v("都會被刪除")]),o("div",[t._v("(刪除後將無法恢復)")])])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:t.doNotDelete}},[t._v("取消")]),o("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.removePocket(t.copyModalObj)}}},[t._v("確認刪除")])])])])])],1)},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",[o("i",{staticClass:"fas fa-check-double ml-2",staticStyle:{color:"rgb(211, 0, 0)"}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"addPocketLabel"}},[o("span",[t._v("新增食物口袋")])]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"editPocketLabel"}},[o("span",[t._v("編輯食物口袋")])]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(o("b0c0"),o("498a"),o("5530")),i=o("1157"),r=o.n(i),c=o("9d8d"),d=o("9876"),l={components:{navbar:c["a"],bus:d["a"]},data:function(){return{token:"",isLoading:!1,seletedName:"",seletedID:"",newPocketName:"",pocketlist:[],copyModalObj:{},editModalObj:{}}},created:function(){this.getToken(),this.getPocketList()},computed:{successbus:function(){return this.$store.state.successbus},dangerbus:function(){return this.$store.state.dangerbus}},methods:{getToken:function(){this.$cookies.isKey("token")?this.token=this.$cookies.get("token"):this.$router.push("/loginpage")},getPocketList:function(){var t=this;this.isLoading=!0;var e="".concat("https://brycehuang.com/","api/rest/getPocketList/");this.$http.get(e,{params:{user_token:this.token}}).then((function(e){t.isLoading=!1,t.pocketlist=e.data.data,t.seletedName=t.$cookies.get("getpocketname"),t.seletedID=t.$cookies.get("getpocketid"),t.$cookies.set("pocketnum",t.pocketlist.length)})).catch((function(e){401===e.response.status&&t.$router.push("/loginpage")}))},openAddPocketModal:function(){this.newPocketName="",r()("#addPocket").modal("show")},openEditPocketModal:function(t){r()("#editPocket").modal("show"),this.editModalObj=Object(s["a"])({},t),this.copyModalObj=Object(s["a"])({},t)},openRemovePocketModal:function(){r()("#editPocket").modal("hide"),r()("#removePocket").modal("show")},doNotDelete:function(){r()("#removePocket").modal("hide")},addNewPocket:function(){var t=this;""===this.newPocketName&&this.$bus.$emit("message:push","口袋名稱不可為空","danger");var e=this.newPocketName.trim();if(e){var o="".concat("https://brycehuang.com/","api/rest/newPocket/"),a=new FormData;a.append("user_token",this.token),a.append("name",this.newPocketName),this.axios.post(o,a).then((function(){t.getPocketList(),r()("#addPocket").modal("hide")})).catch((function(e){401===e.response.status&&t.$router.push("/loginpage")})),r()("#addPocket").modal("hide"),this.newPocketName=""}},editPocket:function(t){var e=this;if(this.editModalObj.name!==t.name)if(""!==this.editModalObj.name){var o="".concat("https://brycehuang.com/","api/rest/editPocket/"),a=new FormData;a.append("user_token",this.token),a.append("pocket_uid",this.editModalObj.pocket_uid),a.append("name",this.editModalObj.name),this.axios.post(o,a).then((function(){e.getPocketList(),r()("#editPocket").modal("hide"),e.$cookies.set("getpocketid",t.pocket_uid),e.$cookies.set("getpocketname",t.name),e.$bus.$emit("message:push","成功編輯口袋名稱",e.successbus)})).catch((function(t){401===t.response.status&&e.$router.push("/loginpage")}))}else this.$bus.$emit("message:push","口袋名稱不能為空",this.dangerbus);else console.log("並未改變"),r()("#editPocket").modal("hide")},removePocket:function(t){var e=this,o="".concat("https://brycehuang.com/","api/rest/removePocket/"),a=new FormData;a.append("user_token",this.token),a.append("pocket_uid",t.pocket_uid),this.axios.post(o,a).then((function(){e.$bus.$emit("message:push","成功刪除 ".concat(t.name," 口袋"),e.successbus),e.$cookies.set("getpocketid",e.pocketlist[0].pocket_uid),e.$cookies.set("getpocketname",e.pocketlist[0].name),e.getPocketList()})).catch((function(t){401===t.response.status&&e.$router.push("/loginpage"),403===t.response.status&&e.$bus.$emit("message:push","不可刪除，帳號內至少需要一個口袋",e.dangerbus)})),r()("#removePocket").modal("hide")},seletedPocket:function(t){this.$cookies.set("getpocketid",t.pocket_uid),this.$cookies.set("getpocketname",t.name),this.$router.push("/foodpocket")}}},u=l,f=(o("2199"),o("2877")),p=Object(f["a"])(u,a,n,!1,null,"16507585",null);e["default"]=p.exports},2199:function(t,e,o){"use strict";var a=o("0233"),n=o.n(a);n.a},"498a":function(t,e,o){"use strict";var a=o("23e7"),n=o("58a8").trim,s=o("c8d2");a({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},"4de4":function(t,e,o){"use strict";var a=o("23e7"),n=o("b727").filter,s=o("1dde"),i=o("ae40"),r=s("filter"),c=i("filter");a({target:"Array",proto:!0,forced:!r||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));o("a4d3"),o("4de4"),o("4160"),o("e439"),o("dbb4"),o("b64b"),o("159b");function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,o){var a=o("1d80"),n=o("5899"),s="["+n+"]",i=RegExp("^"+s+s+"*"),r=RegExp(s+s+"*$"),c=function(t){return function(e){var o=String(a(e));return 1&t&&(o=o.replace(i,"")),2&t&&(o=o.replace(r,"")),o}};t.exports={start:c(1),end:c(2),trim:c(3)}},"746f":function(t,e,o){var a=o("428f"),n=o("5135"),s=o("e538"),i=o("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});n(e,t)||i(e,t,{value:s.f(t)})}},a4d3:function(t,e,o){"use strict";var a=o("23e7"),n=o("da84"),s=o("d066"),i=o("c430"),r=o("83ab"),c=o("4930"),d=o("fdbf"),l=o("d039"),u=o("5135"),f=o("e8b5"),p=o("861d"),m=o("825a"),b=o("7b0b"),h=o("fc6a"),v=o("c04e"),g=o("5c6c"),k=o("7c73"),y=o("df75"),P=o("241c"),C=o("057f"),O=o("7418"),_=o("06cf"),w=o("9bf2"),j=o("d1e7"),$=o("9112"),S=o("6eeb"),x=o("5692"),M=o("f772"),N=o("d012"),D=o("90e3"),L=o("b622"),E=o("e538"),z=o("746f"),F=o("d44e"),I=o("69f3"),J=o("b727").forEach,R=M("hidden"),T="Symbol",A="prototype",K=L("toPrimitive"),Q=I.set,W=I.getterFor(T),q=Object[A],B=n.Symbol,G=s("JSON","stringify"),H=_.f,U=w.f,V=C.f,X=j.f,Y=x("symbols"),Z=x("op-symbols"),tt=x("string-to-symbol-registry"),et=x("symbol-to-string-registry"),ot=x("wks"),at=n.QObject,nt=!at||!at[A]||!at[A].findChild,st=r&&l((function(){return 7!=k(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(t,e,o){var a=H(q,e);a&&delete q[e],U(t,e,o),a&&t!==q&&U(q,e,a)}:U,it=function(t,e){var o=Y[t]=k(B[A]);return Q(o,{type:T,tag:t,description:e}),r||(o.description=e),o},rt=d?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof B},ct=function(t,e,o){t===q&&ct(Z,e,o),m(t);var a=v(e,!0);return m(o),u(Y,a)?(o.enumerable?(u(t,R)&&t[R][a]&&(t[R][a]=!1),o=k(o,{enumerable:g(0,!1)})):(u(t,R)||U(t,R,g(1,{})),t[R][a]=!0),st(t,a,o)):U(t,a,o)},dt=function(t,e){m(t);var o=h(e),a=y(o).concat(mt(o));return J(a,(function(e){r&&!ut.call(o,e)||ct(t,e,o[e])})),t},lt=function(t,e){return void 0===e?k(t):dt(k(t),e)},ut=function(t){var e=v(t,!0),o=X.call(this,e);return!(this===q&&u(Y,e)&&!u(Z,e))&&(!(o||!u(this,e)||!u(Y,e)||u(this,R)&&this[R][e])||o)},ft=function(t,e){var o=h(t),a=v(e,!0);if(o!==q||!u(Y,a)||u(Z,a)){var n=H(o,a);return!n||!u(Y,a)||u(o,R)&&o[R][a]||(n.enumerable=!0),n}},pt=function(t){var e=V(h(t)),o=[];return J(e,(function(t){u(Y,t)||u(N,t)||o.push(t)})),o},mt=function(t){var e=t===q,o=V(e?Z:h(t)),a=[];return J(o,(function(t){!u(Y,t)||e&&!u(q,t)||a.push(Y[t])})),a};if(c||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=D(t),o=function(t){this===q&&o.call(Z,t),u(this,R)&&u(this[R],e)&&(this[R][e]=!1),st(this,e,g(1,t))};return r&&nt&&st(q,e,{configurable:!0,set:o}),it(e,t)},S(B[A],"toString",(function(){return W(this).tag})),S(B,"withoutSetter",(function(t){return it(D(t),t)})),j.f=ut,w.f=ct,_.f=ft,P.f=C.f=pt,O.f=mt,E.f=function(t){return it(L(t),t)},r&&(U(B[A],"description",{configurable:!0,get:function(){return W(this).description}}),i||S(q,"propertyIsEnumerable",ut,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:B}),J(y(ot),(function(t){z(t)})),a({target:T,stat:!0,forced:!c},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var o=B(e);return tt[e]=o,et[o]=e,o},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!r},{create:lt,defineProperty:ct,defineProperties:dt,getOwnPropertyDescriptor:ft}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:mt}),a({target:"Object",stat:!0,forced:l((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(b(t))}}),G){var bt=!c||l((function(){var t=B();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}));a({target:"JSON",stat:!0,forced:bt},{stringify:function(t,e,o){var a,n=[t],s=1;while(arguments.length>s)n.push(arguments[s++]);if(a=e,(p(e)||void 0!==t)&&!rt(t))return f(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!rt(e))return e}),n[1]=e,G.apply(null,n)}})}B[A][K]||$(B[A],K,B[A].valueOf),F(B,T),N[R]=!0},b0c0:function(t,e,o){var a=o("83ab"),n=o("9bf2").f,s=Function.prototype,i=s.toString,r=/^\s*function ([^ (]*)/,c="name";a&&!(c in s)&&n(s,c,{configurable:!0,get:function(){try{return i.call(this).match(r)[1]}catch(t){return""}}})},b64b:function(t,e,o){var a=o("23e7"),n=o("7b0b"),s=o("df75"),i=o("d039"),r=i((function(){s(1)}));a({target:"Object",stat:!0,forced:r},{keys:function(t){return s(n(t))}})},c8d2:function(t,e,o){var a=o("d039"),n=o("5899"),s="​᠎";t.exports=function(t){return a((function(){return!!n[t]()||s[t]()!=s||n[t].name!==t}))}},dbb4:function(t,e,o){var a=o("23e7"),n=o("83ab"),s=o("56ef"),i=o("fc6a"),r=o("06cf"),c=o("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,o,a=i(t),n=r.f,d=s(a),l={},u=0;while(d.length>u)o=n(a,e=d[u++]),void 0!==o&&c(l,e,o);return l}})},e439:function(t,e,o){var a=o("23e7"),n=o("d039"),s=o("fc6a"),i=o("06cf").f,r=o("83ab"),c=n((function(){i(1)})),d=!r||c;a({target:"Object",stat:!0,forced:d,sham:!r},{getOwnPropertyDescriptor:function(t,e){return i(s(t),e)}})},e538:function(t,e,o){var a=o("b622");e.f=a}}]);
//# sourceMappingURL=chunk-5f605b77.13b6ce1e.js.map